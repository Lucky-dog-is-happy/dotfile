# === Prefix Key ===
# Use Ctrl-a as prefix instead of Ctrl-b
unbind C-b
set-option -g prefix C-a
bind-key C-a send-prefix

# === Basic Settings ===
# Start window and pane numbering at 1
set -g base-index 1
setw -g pane-base-index 1

# Enable 256 color support
set -g default-terminal "screen-256color"

# Enable mouse support
set -g mouse on

# Increase history size
set -g history-limit 10000

# Enable activity monitoring
setw -g monitor-activity on
set -g visual-activity on

# === Split Windows ===
# Horizontal split with |
bind | split-window -h

# Vertical split with -
bind _ split-window -v

# === Pane Navigation ===
# Use vim-like key bindings for pane navigation
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# Resize panes with Shift+Arrow
bind -r H resize-pane -L 5
bind -r J resize-pane -D 5
bind -r K resize-pane -U 5
bind -r L resize-pane -R 5

# === Window Management ===
# Create new window
bind c new-window

# Rename window (bind with command)
bind , command-prompt -p "rename window:" "rename-window '%%%'"

# Kill pane
bind x kill-pane

# Kill window
bind X kill-window

# Choose window/pane interactively
bind w choose-window

# Switch to last window
bind Tab last-window

# Reload configuration
bind r source-file ~/.tmux.conf \; display "Config reloaded!"

# === Copy Mode ===
# Use vi keys in copy mode
setw -g mode-keys vi

# Start copy mode with Prefix+[
bind [ copy-mode

# Paste with Prefix+]
bind ] paste-buffer

# === Status Bar ===
# Enable status bar
set -g status on
set -g status-position bottom
set -g status-justify left
set -g status-interval 1

# Status bar length
set -g status-left-length 20
set -g status-right-length 40

# Status bar format
set -g status-left "#[fg=#a7c080] #[bg=#2d353b]  #S "
set -g status-right "#[fg=#a7c080] #[bg=#2d353b] %H:%M %Y-%m-%d "

# Window list in status bar
set -g window-status-format " #I:#W "
set -g window-status-current-format " #I:#W "

# === Everforest Green Theme ===
# Status bar colors
set -g status-bg "#2d353b"
set -g status-fg "#a7c080"

# Pane border styles
set -g pane-border-style "fg=#5c6773"
set -g pane-active-border-style "fg=#a7c080"

# Window status colors
set -g window-status-style "fg=#9da9a0,bg=#2d353b"
set -g window-status-current-style "fg=#2d353b,bg=#a7c080"

# Window activity indicators
setw -g window-status-activity-style "fg=#dbbc7f,bg=#2d353b"

# Message colors
set -g message-style "fg=#a7c080,bg=#2d353b"

# Mode colors
setw -g mode-style "fg=#2d353b,bg=#a7c080"

# Clock color
set -g clock-mode-colour "#a7c080"

# === Pane Management ===
# Automatic window renaming
setw -g automatic-rename on
setw -g automatic-rename-format "#{pane_current_command}"

# Don't rename window when switching panes
set -g allow-rename off

# === Other Settings ===
# Escape time for vim
set -s escape-time 1

# Focus events for terminals
set -g focus-events on

# Display messages longer
set -g display-time 2000

# Enable vi mode for command prompt
set -g status-keys vi

# Show pane numbers in status bar
set -g pane-border-status top
set -g pane-border-format " #{pane_index} "
